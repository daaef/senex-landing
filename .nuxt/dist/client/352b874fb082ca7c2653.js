(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{230:function(e,t,r){"use strict";t.a=function(e,t){var r;if("NGN"===t)r=Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"});else{if("USD"!==t)throw new Error("Unrecognized currency specification: "+t);r=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}return r.format(e)}},251:function(e,t,r){var content=r(279);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(10).default)("087e1322",content,!0,{sourceMap:!1})},276:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHHSURBVHgB7dhPTsJAFAbw71U0LjB6BI7gEfAAYti5EMETGE9guQGcQARj3KF4Am7ADeQITYTEmLbPaaIbbUs78qczvN+KlJmkX9v3ph1ACCGEKAxaNOCgMWox0FQ/qyg64gkzdeeDWi9xSNr88uXrLZhdmIbInfVP27F/Jc35vrN3MJQ696u4O+2kTGjCYJRw/k7KnCrMVo076GDLbF3gEjSo+u6pKzXGhoXMVSLK1Wu0AiPA+P0xea1bF7WS5G6uUsO2k6aVBTl8XW6MNv5iEgKVhR8Dv+g1LaJjFEDesBGpYdtJ08qCQ9wEQfCMJSnt7rxhTfSaFsP7eKpPsSSq42NdpIZtt3WBE9duVVcMw80GtT/55JG2nQS2nd6bVqA2uVe4xXPUGlb8YDVvX/JI205qOBOHDvfPhxWsiO+jorWdkYHenhZxR33SdWAgqWHb2RuYeBJ32NrAzHQfd9zOwEST+aAW21TtCkzw1K1tlxz/JGmI3jr8g7mrrtnSdi//g0PH2937nHr9upc2Tj+wupKzhzMXhtF7pA0NG8kf2OCwkXyBDQ8byR7YgrCRbIEtCRtZHNiisJH0wJaFTVW+eHEhhBAF8wU0QYsr094EwQAAAABJRU5ErkJggg=="},277:function(e,t,r){var n;!function(){var r={months:["January","February","March","April","May","June","July","August","September","October","November","December"],toUTC:function(input){var e=input?new Date(input):new Date;return e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())},monthName:function(e){var t;return t="number"==typeof e?e:new Date(e).getMonth()+1,r.months[t-1]},relativeTime:function(input,e){var t,time,r,n,o,c,output=[];if("number"==typeof input?t=input:(n=new Date(input).getTime(),t=((new Date).getTime()-n)/1e3*-1),e||(e={}),e.futureSuffix||(e.futureSuffix="from now"),e.pastSuffix||(e.pastSuffix="ago"),e.presentText||(e.presentText="now"),e.returnObject||(e.returnObject=!1),o=t<0,t=Math.abs(t),time={seconds:Math.floor(t%31536e3%86400%3600%60),minutes:Math.floor(t%31536e3%86400%3600/60),hours:Math.floor(t%31536e3%86400/3600),days:Math.floor(t%31536e3/86400),years:Math.floor(t/31536e3),past:o},e.returnObject)return time;if(0===t)return e.presentText;function d(t,r){c&&(c=e.allUnits,output.push(t+" "+r+(t>1?"s":"")))}return r=time.past?e.pastSuffix:e.futureSuffix,c=!0,time.years&&d(time.years,"year"),time.days&&d(time.days,"day"),time.hours&&d(time.hours,"hour"),time.minutes&&d(time.minutes,"minute"),time.seconds&&d(time.seconds,"second"),output.join(", ")+" "+r},prettyPrint:function(input,e){var t,r,n,o,c,d,l,f,m;return input?"number"==typeof input&&(input=(new Date).setSeconds(input)):input=new Date,e||(e={}),e.showTime||(e.showTime=!1),o=(n=(t=new Date(input)).getDate())>3&&n<21?n+"th":n%10==1?n+"st":n%10==2?n+"nd":n%10==3?n+"rd":n+"th",c=t.getFullYear(),r=this.monthName(t.getMonth()+1)+" "+o+", "+c,m=(l=t.getHours())>=12?"pm":"am",d=(l=l%12?l%12:12)+":"+(f=(f=t.getMinutes())<10?"0"+f:f)+" "+m,e.showTime?r+" at "+d:r}};if(!e.exports)return!(void 0!==(n=function(){return r}.apply(t,[]))&&(e.exports=n));e.exports=r}()},278:function(e,t,r){"use strict";var n=r(251);r.n(n).a},279:function(e,t,r){(t=e.exports=r(9)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Roboto);",""]),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=Open+Sans:300,400);",""]);var n=r(22),o=n(r(40)),c=n(r(41)),d=n(r(42));t.push([e.i,"@font-face{font-family:Avenir Next Lt Pro;src:url("+o+') format("opentype")}@font-face{font-family:Avenir Next Lt Pro;src:url('+c+') format("opentype");font-weight:700}@font-face{font-family:Avenir Next Lt Pro;src:url('+d+') format("opentype");font-weight:500}div.wrapper[data-v-80e86fda]{min-height:580px;margin-bottom:3rem;margin-top:2rem;font-family:Avenir Next Lt Pro,sans-serif}div.wrapper p.p-heading[data-v-80e86fda]{color:#1b70cf;font-size:1.7rem;margin-bottom:1.5rem}.content-wrapper .message-area[data-v-80e86fda],.content-wrapper .status-area[data-v-80e86fda]{height:350px}.content-wrapper .status-area[data-v-80e86fda]{box-shadow:0 1px 3px rgba(0,0,0,.161);border-radius:10px;margin-right:1rem;padding:0;text-align:center}.content-wrapper .status-area .grey-header-area[data-v-80e86fda]{background:#fbfbfb;border-bottom:rgba(0,0,0,.161);text-align:center;padding:.9rem 0}.content-wrapper .status-area .grey-header-area .status[data-v-80e86fda]{color:#1b70cf;font-size:1.159rem}.content-wrapper .status-area .grey-header-area .progress-bar[data-v-80e86fda]{width:70%;background:#f5f5f5;height:15px;border-radius:10px;margin:6px auto 0;padding:0;text-align:left}.content-wrapper .status-area .grey-header-area .progress-bar .percent[data-v-80e86fda]{display:inline-block;text-align:left;height:inherit;background:#1b70cf;margin:0;padding:0;border-radius:inherit}.content-wrapper .status-area .grey-header-area .progress-bar .percent.percent-20[data-v-80e86fda]{width:20%}.content-wrapper .status-area .grey-header-area .progress-bar .percent.percent-40[data-v-80e86fda]{width:40%;background:#00d1b1}.content-wrapper .status-area .grey-header-area .progress-bar .percent.percent-60[data-v-80e86fda]{width:60%}.content-wrapper .status-area .grey-header-area .progress-bar .percent.percent-80[data-v-80e86fda]{width:80%;background:#fedd56}.content-wrapper .status-area .grey-header-area .progress-bar .percent.percent-100[data-v-80e86fda]{width:100%;background:#58c13d}.content-wrapper .status-area .grey-header-area .progress-bar .percent.percent-101[data-v-80e86fda]{width:100%;background:#fe385f}.content-wrapper .status-area .content[data-v-80e86fda]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;padding:.7rem .8rem 1rem;text-align:left;font-size:.95rem}.content-wrapper .status-area .content p[data-v-80e86fda]{margin:.3rem 0}.content-wrapper .status-area .content p span._title[data-v-80e86fda]{display:block;color:#1b70cf;margin-bottom:.2rem}.content-wrapper .status-area .content p span._item[data-v-80e86fda]{display:block;color:#838383;word-wrap:break-word}.content-wrapper .status-area .content .brief[data-v-80e86fda]{border-bottom:1px solid #0c5db2;padding-bottom:.3rem;color:#1b70cf}.content-wrapper .status-area .content .date[data-v-80e86fda]{color:#1b70cf}.content-wrapper .message-area[data-v-80e86fda]{box-shadow:0 1px 3px rgba(0,0,0,.161);border-radius:10px;background:#fbfbfb;padding:.84rem .5rem}.content-wrapper .message-area .title-area[data-v-80e86fda]{margin:0;padding:0}.content-wrapper .message-area .title-area img[data-v-80e86fda]{height:40px;width:40px}.content-wrapper .message-area .title-area .text[data-v-80e86fda]{font-size:.9rem;font-weight:500}.content-wrapper .message-area .title-area .status[data-v-80e86fda]{font-size:.7rem}.content-wrapper .message-area .chat-container[data-v-80e86fda]{background:#fff;border-radius:6px;padding:.2rem .1rem;height:70%;width:100%;margin:0;overflow:auto}.content-wrapper .message-area .chat-container .chat[data-v-80e86fda]{font-size:.95rem;line-height:1;width:80%;height:auto;color:#4b4b4b;border-radius:6px;padding:.4rem;margin:.4rem 0}.content-wrapper .message-area .chat-container .chat-sent[data-v-80e86fda]{background:#abcaeb;float:right}.content-wrapper .message-area .chat-container .chat-sent .time-info[data-v-80e86fda]{font-size:.7rem;margin-top:.7rem;font-weight:500;padding-top:.8rem;float:right}.content-wrapper .message-area .chat-container .chat-sent .time-info .name[data-v-80e86fda]{font-weight:400}.content-wrapper .message-area .chat-container .chat-received[data-v-80e86fda]{background:#f4f4f4;float:left}.content-wrapper .message-area .chat-container .chat-received .time-info[data-v-80e86fda]{font-size:.7rem;margin-top:.7rem;font-weight:500;float:left}.content-wrapper .message-area .chat-container .chat-received .time-info .name[data-v-80e86fda]{font-weight:400}.content-wrapper .message-area .send-input-container[data-v-80e86fda]{margin:1rem 0 auto}.content-wrapper .message-area .send-input-container input[data-v-80e86fda]{font-size:.8rem;border-radius:12px}.content-wrapper .message-area .send-input-container .button[data-v-80e86fda]{font-size:.8rem;border-radius:12px;color:#fff;background:#0c5db2}.success[data-v-80e86fda]{color:#58c13d}',""])},311:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"has-text-weight-semibold p-heading has-text-centered"},[this._v("\n      Trade Lookup\n      "),t("span",{staticClass:"is-block has-text-centered has-text-weight-normal",staticStyle:{"font-size":"0.95rem",color:"#d5d5d5"}},[this._v("\n        Quickly track and manage your trade\n      ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"tag is-info is-medium"},[t("i",{staticClass:"fas fa-file-upload"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"tag is-info is-medium"},[t("i",{staticClass:"fas fa-file-upload"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title-area columns is-mobile is-gapless"},[t("div",{staticClass:"column is-3"},[t("img",{attrs:{src:r(276),alt:""}})]),this._v(" "),t("div",{staticClass:"column is-9"},[t("span",{staticClass:"text is-block"},[this._v("SenexPAY Support")]),this._v(" "),t("span",{staticClass:"status is-block"},[t("i",{staticClass:"fas fa-users"}),this._v(" Opened\n            ")])])])}],o=(r(32),r(18),r(89),r(39)),c=(r(19),r(3)),d=r(277),l=r.n(d),f=r(230),m={layout:"blue",validate:function(e){var t=e.query,r=e.store;return!!t.trade_id&&!!r.state.trade.track.tradeId},filters:{formatMoney:f.a,prettydate:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.a.prettyPrint(e,{showTime:t})}},data:function(){return{messageText:"",sendingMessage:!1,interval1:null}},asyncData:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t){var r,n,c,d,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,n=t.app.$axios,e.next=3,Promise.all([n.get("/trade/".concat(r.trade_id,"/")),n.get("/trade/".concat(r.trade_id,"/messages/"))]);case 3:return c=e.sent,d=Object(o.a)(c,2),l=d[0],f=d[1],e.abrupt("return",{tradeData:l.data,messages:f.data.sort(function(a,b){return a.id-b.id})});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),mounted:function(){this.interval1=setInterval(this.pollMessages,5e3)},beforeDestroy:function(){clearInterval(this.interval1)},methods:{pollMessages:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get("/trade/".concat(this.query.trade_id,"/messages/"));case 3:t=e.sent,this.messageResp=t.data.sort(function(a,b){return a.id-b.id}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,e.finish(9);case 11:case"end":return e.stop()}},e,this,[[0,7,9,11]])}));return function(){return e.apply(this,arguments)}}(),handleSendMessage:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(JSON.stringify(this.tradeData)),e.next=3,this.$validator.validateAll();case 3:if(!e.sent){e.next=21;break}return e.prev=5,t={body:this.messageText,trade:this.tradeData.id},this.sendingMessage=!0,e.next=10,this.$axios.post("/trade/".concat(this.tradeData.id,"/messages/"),t);case 10:r=e.sent,this.messages.push(r.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),this.$swal({title:"Error:",type:"error",position:"top-end",text:"Couldn't send message; try again",timer:7e3,toast:!0,showConfirmButton:!1});case 17:return e.prev=17,this.sendingMessage=!1,this.messageText="",e.finish(17);case 21:case"end":return e.stop()}},e,this,[[5,14,17,21]])}));return function(){return e.apply(this,arguments)}}(),uploadDoc:function(){var e=Object(c.a)(regeneratorRuntime.mark(function e(t,r){var n,o,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=t.target.files||t.dataTransfer.files).length){e.next=3;break}return e.abrupt("return");case 3:return(o=new FormData).append("datafile",n[0]),e.prev=5,e.next=8,this.$axios.post("/upload/",o,{headers:{"content-type":"multipart/form-data"}});case 8:return c=e.sent,d={trade:this.tradeData.id},"idCard"===r?d.govtIssuedId=c.data.datafile:d.selfieWithId=c.data.datafile,e.next=13,this.$axios.put("/trade/".concat(this.requestBody.trade,"/kyc/"),d);case 13:this.$swal({title:"Done:",type:"success",position:"top-end",text:"Your document was uploaded successfully",timer:7e3,toast:!0,showConfirmButton:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),this.$swal({title:"Error:",type:"error",position:"top-end",text:"Failed to upload; try again",timer:7e3,toast:!0,showConfirmButton:!1});case 19:return e.prev=19,e.finish(19);case 21:case"end":return e.stop()}},e,this,[[5,16,19,21]])}));return function(t,r){return e.apply(this,arguments)}}()}},v=(r(278),r(2)),component=Object(v.a)(m,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"section"},[r("div",{staticClass:"container wrapper"},[e._m(0),e._v(" "),r("div",{staticClass:"columns is-centered content-wrapper"},[r("div",{staticClass:"column is-4 status-area",style:e.$device.isMobile?"margin-bottom: 1.5rem;":""},[r("div",{staticClass:"grey-header-area"},[r("p",{staticClass:"status"},["pending"===e.tradeData.status?r("span",[e._v("Pending")]):e._e(),e._v(" "),"paid"===e.tradeData.status?r("span",[e._v("Paid")]):e._e(),e._v(" "),"kyc_passed"===e.tradeData.status?r("span",[e._v("KYC Approved")]):e._e(),e._v(" "),"disbursed"===e.tradeData.status?r("span",[e._v("Disbursed")]):e._e(),e._v(" "),"completed"===e.tradeData.status?r("span",[e._v("Complete")]):e._e(),e._v(" "),"expired"===e.tradeData.status?r("span",[e._v("Expired")]):e._e()]),e._v(" "),r("div",{staticClass:"progress-bar"},[r("span",{staticClass:"percent",class:{"percent-20":"pending"===e.tradeData.status,"percent-40":"paid"===e.tradeData.status,"percent-60":"kyc_passed"===e.tradeData.status,"percent-80":"disbursed"===e.tradeData.status,"percent-100":"completed"===e.tradeData.status,"percent-101":"expired"===e.tradeData.status}})])]),e._v(" "),r("div",{staticClass:"content"},[r("p",{staticClass:"brief"},[e._v("\n            "+e._s(e.tradeData.firstName)+" "+e._s(e.tradeData.lastName)+",\n            "),"buy"===e.tradeData.type?r("span",[e._v("Buying")]):r("span",[e._v("Selling")]),e._v(" "),r("b",[e._v(e._s(e.tradeData.cryptoAmount))]),e._v("BTC\n          ")]),e._v(" "),r("p",[r("span",{staticClass:"_title"},[e._v(e._s("buy"==e.tradeData.type?"We Received":"Your are Paid"))]),e._v(" "),r("span",{staticClass:"_item"},[r("b",[e._v(e._s(e._f("formatMoney")(e.tradeData.fiatAmount,"NGN")))])])]),e._v(" "),e.tradeData.walletAddress?r("p",[r("span",{staticClass:"_title"},[e._v("Payout to Wallet")]),e._v(" "),r("span",{staticClass:"_item"},[e._v("\n              "+e._s(e.tradeData.walletAddress)+"\n            ")])]):r("p",[r("span",{staticClass:"_title"},[e._v("Deposit to Bank")]),e._v(" "),r("span",{staticClass:"_item"},[e._v("\n              "+e._s(e.tradeData.accountNumber)+"\n            ")])]),e._v(" "),r("p",[r("span",{staticClass:"_title"},[e._v("KYC Status")]),e._v(" "),null==e.tradeData.kyc?r("span",{staticClass:"_item"},[e._v("\n              Not Required\n            ")]):r("span",{staticClass:"_item"},[e._v("\n              "+e._s("failed"===e.tradeData.kyc.status?"Declined, please re-upload documents":e.tradeData.kyc.status)+"\n            ")])]),e._v(" "),r("p",{staticClass:"date"},[r("svg",{staticStyle:{"vertical-align":"middle"},attrs:{width:"100",height:"2",viewBox:"0 0 69 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M3.05176e-05 1H69",stroke:"#0C5DB2"}})]),e._v(" "),r("span",[e._v(e._s(e._f("prettydate")(e.tradeData.created,!0)))])]),e._v(" "),null!=e.tradeData.kyc&&"failed"==e.tradeData.kyc.status?r("div",{staticClass:"field is-grouped is-grouped-multiline"},[r("div",{staticClass:"control"},[r("div",{staticClass:"tags has-addons",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$refs.idBrowse.click()}}},[r("span",{staticClass:"tag is-dark is-medium"},[e._v("Govt. ID")]),e._v(" "),e._m(1),e._v(" "),r("input",{ref:"idBrowse",staticClass:"file-input",attrs:{type:"file",accept:"image/*",name:"idcard",hidden:""},on:{change:function(t){return e.uploadDoc(t,"idCard")}}})])]),e._v(" "),r("div",{staticClass:"control"},[r("div",{staticClass:"tags has-addons",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$refs.selfieBrowse.click()}}},[r("span",{staticClass:"tag is-dark is-medium"},[e._v("Selfie")]),e._v(" "),e._m(2),e._v(" "),r("input",{ref:"selfieBrowse",staticClass:"file-input",attrs:{type:"file",accept:"image/*",name:"selfie",hidden:""},on:{change:function(t){return e.uploadDoc(t,"selfie")}}})])])]):e._e()])]),r("br"),r("br"),e._v(" "),r("div",{staticClass:"column is-4 message-area",style:e.$device.isMobile?"margin-top: 1.5rem;":""},[e._m(3),e._v(" "),r("div",{staticClass:"chat-container"},e._l(e.messages,function(t){return r("div",{key:t.id,staticClass:"chat",class:{"chat-sent":!t.admin,"chat-received":t.admin}},[e._v("\n            "+e._s(t.body)+"\n            "),r("p",{staticClass:"time-info"},[t.admin?r("span",{staticClass:"name"},[e._v("Admin - ")]):r("span",{staticClass:"name"},[e._v("You - ")]),e._v("\n              "+e._s(e._f("prettydate")(t.created))+"\n            ")])])}),0),e._v(" "),r("form",{staticClass:"send-input-container"},[r("div",{staticClass:"field is-grouped"},[r("p",{staticClass:"control is-expanded"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.messageText,expression:"messageText"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input",attrs:{type:"text",name:"message text",placeholder:"Type message"},domProps:{value:e.messageText},on:{input:function(t){t.target.composing||(e.messageText=t.target.value)}}})]),e._v(" "),r("p",{staticClass:"control"},[r("button",{staticClass:"button is-info",class:{"is-loading":e.sendingMessage},on:{click:function(t){return t.preventDefault(),e.handleSendMessage(t)}}},[e._v("\n                Send\n              ")])])])])])])])])},n,!1,null,"80e86fda",null);t.default=component.exports}}]);